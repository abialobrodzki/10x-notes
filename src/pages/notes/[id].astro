---
import Layout from "@/layouts/Layout.astro";
import NoteDetailPageWithProvider from "@/components/NoteDetailPageWithProvider";

// Dynamic route - get note ID from params
const { id } = Astro.params;

// Guard: redirect to notes list if no ID
if (!id) {
  return Astro.redirect("/notes");
}

// SSR disabled to allow client-side data fetching with SWR
export const prerender = false;
---

<Layout title={`Notatka - 10xNotes`}>
  <NoteDetailPageWithProvider client:load noteId={id} />
</Layout>
